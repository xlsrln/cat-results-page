
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cat Results Page - Redirecting</title>
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // MIT License
      // https://github.com/rafgraph/spa-github-pages
      // This script takes the current URL and converts it into the corresponding
      // path of the URL that the custom domain should serve
      
      (function() {
        // Parse the current URL
        var url = window.location.href;
        var origin = window.location.origin;
        var pathname = window.location.pathname;
        
        // Check for the infinite redirect loop pattern
        if (window.location.search.includes('~and~q=p=/')) {
          // Clear the problematic query string and redirect to the clean path
          window.location.replace(origin + pathname);
          return;
        }
        
        // Standard SPA redirect for normal 404 handling
        // If we're not in an infinite loop situation, redirect to the root with the path in the query
        var pathSegments = pathname.split('/');
        var cleanPath = pathname;
        
        // Remove any empty segments or trailing slashes
        if (cleanPath.endsWith('/')) {
          cleanPath = cleanPath.slice(0, -1);
        }
        
        window.location.replace(origin + '/#' + cleanPath);
      })();
    </script>
  </head>
  <body>
    <p>If you are not redirected automatically, please <a href="/">click here to go to the homepage</a>.</p>
  </body>
</html>
